# couch

This project is the end of year project for the Oconomowoc High School robotics club. It is unfortunate that this was difficult to get working, but this was my first ever project with Arduino from scratch. In the end, I created two parallel codebases to run on two separate ATMega328p boards (Arduino Uno). The boards communicate over their built-in serial pins and serial functions using the SoftwareSerial library. What exactly are these boards doing? They are working together to drive a couch. One takes and decodes signals from an IR remote (questionable choice, I know), and the other is the PWM controller for the motor controllers driving four cim motors. The reason I landed on the dual-board solution was my failure to get the PWM and IR receiver libraries to work together. I do not have a deep enough understanding of their low level function to make my own libs, and even if I did I believe that libs exist for a reason, and my primary goal should be to get them to work together. I tried a few different pwm libraries, but they would not work with my IR library, which I also changed a few times. I concluded that the issue was the timers (software or hardware, I do not know) used by the libraries. The PWM library allowed me to change the timer I was using by changing a global variable, but when I changed it, it didn't work even more, somehow. In fact, it seems like what I did made them utilize the same pin, meaning they didn't actually have any conflicts in the first place. In short, I still have absolutely no idea why these libraries would not just work together and do their jobs. When I disabled the functions of one library, the code for the other library worked fine, and vice versa. It was only when I tried to run my whole codebase that it fell apart. So I turned to a dual-board serial solution, and that seems to work. I ahve not yet gotten to try this solution out on any functional hardware, only some LEDs. Unfortunately, IR is shit, and the sensor and remote I have, paired with my lib (which seems to be well-respected by the community) only decode the signal about one in ten button pushes. Sometimes more, sometimes less. Additionally, the delay between button press and PWM change seems pretty high, but I am not sure if it is actually slowing down in the software, or it has something to do with my external circuit setup. Still, when I press the remote, sometimes the PWM works! Crazy!